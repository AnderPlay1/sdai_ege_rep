{% extends "base.html" %}

{% block content %}
    <h1>{{ post.title }}</h1>
    <p>{{ post.content }}</p>
    <p>Автор: {{ post.author.first_name }} {{ post.author.last_name }}</p>
    <p>Дата: {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
    <p>Лайков: {{ post.likes }}</p>

    <h2>Комментарии</h2>
    {% for comment in post.comments %}
        <div class="comment">
            <p>{{ comment.content }}</p>
            <p>Автор: {{ comment.author.first_name }} {{ comment.author.last_name }}</p>
            <p>Дата: {{ comment.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
            <p>Лайков: {{ comment.likes }}</p>
        </div>
    {% endfor %}

    <h2>Добавить комментарий</h2>
    <form method="POST" action="">
        {{ form.hidden_tag() }}
        <div>
            {{ form.content.label }}<br>
            {{ form.content(cols=32, rows=4) }}<br>
            {% for error in form.content.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div>
            {{ form.submit() }}
        </div>
    </form>
{% endblock %}