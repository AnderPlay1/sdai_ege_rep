{% extends "base.html" %}

{% block content %}

<div class="main-content">
    <div class="topics-header">
        <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–µ–º—ã</h2>
        <a href="{{ url_for('create_topic') }}" class="new-topic-btn">
            ‚ú® –ù–æ–≤–∞—è —Ç–µ–º–∞
        </a>
    </div>

    <div class="topics-grid">
        {% for topic in topics %}
            <article class="topic-card">
                <div class="topic-card-header">
                    <div class="topic-meta">
                        <span class="topic-author">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å #{{ topic.user_id }}</span>
                    </div>
                    <span class="topic-id">#{{ topic.id }}</span>
                </div>

                <div class="topic-card-body">
                    <h3 class="topic-title">
                        <a href="{{ url_for('topic', topic_id=topic.id) }}">{{ topic.title }}</a>
                    </h3>
                    <p class="topic-excerpt">{{ topic.content|truncate(150) }}</p>
                </div>

                <div class="topic-card-footer">
                    <a href="{{ url_for('topic', topic_id=topic.id) }}" class="comments-link">
                        üí¨ {{ topic.comments_count  }} –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (-–µ–≤/–∏–π)
                    </a>
                </div>
            </article>
        {% endfor %}
    </div>
</div>
{% endblock %}